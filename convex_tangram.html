<!DOCTYPE html>
<html><head><meta charset="UTF-8">
<title>Calculate convex tangrams</title>
	<script src="js/vector.js"></script>
	<script src="js/matrix.js"></script>
	<script src="js/shape.js"></script>
	<script src="js/figure.js"></script>
	<script src="js/test.js"></script> <!--- do unit tests -->
	
	<script>		
	function start() {
		var f = Figure.combineQ3("p+2.tb.8+10.ts.0+12.tb.4"); 
		var c = Figure.CreateFromCode("s");
		f = f.combine(8, c, 0);
		console.log(f.asString());		
		
		// transform piece to shape to draw it
		var s=f.toShape(0, "#000000");
		// create a transformation matrix to transform the shape in a display-able format
		Matrix.get_translation(240, 120)
			.multiply_matrix(Matrix.get_scale(-32, 32))
			.multiply_matrix(Matrix.get_rotate(Math.PI+0.085))
			.transform_shape(s);
		// draw it on canvas
		var ctx=document.getElementById("mainCanvas").getContext("2d");
		s.draw(ctx);
		
		// create a new canvas area
		// var c = document.createElement("canvas");
		// c.setAttribute("style", "width:320px;height:320px;background-color:#202020;");
		// document.getElementById("canvases").appendChild(c);
	}
	</script>
</head>


<body style="background-color:#000000; color:#eaeaea; font-family:arial" onload="start();">
	<div id="canvases">
	<canvas id="mainCanvas" width="320" height="320" style="background-color:#202020;">
	</canvas>
	</div>
</body>

</html>