<!DOCTYPE html>
<html><head><meta charset="UTF-8">
<title>Calculate convex tangrams</title>
	<script src="js/vector.js"></script>
	<script src="js/matrix.js"></script>
	<script src="js/shape.js"></script>
	<script src="js/figure.js"></script>
	<script src="js/test.js"></script> <!--- do unit tests -->
	
	<script>		
	function start() {
		var f1=new Figure().set_parallelogram();
		var f2=new Figure().set_triangle_big();
		var f3=f1.combine(2, f2, 8);
		f3 = testq2("p@0+tb@2", "S15314424");
		console.log("f3:"+f3.asString());
		
		// transform piece to shape to draw it
		var s=f3.toShape(0, "#fa6666");
		// create a transformation matrix to transform the shape in a display-able format
		Matrix.get_translation(200, 200)
			.multiply_matrix(Matrix.get_scale(-32, 32))
			.multiply_matrix(Matrix.get_rotate(Math.PI+0.085))
			.transform_shape(s);
		// draw it on canvas
		var ctx=document.getElementById("mainCanvas").getContext("2d");
		s.draw(ctx);
		
		// create a new canvas area
		// var c = document.createElement("canvas");
		// c.setAttribute("style", "width:100px;height:60px;border:1px solid #000000;background-color:#444444;");
		// document.getElementById("canvases").appendChild(c);
	}
	</script>
</head>


<body onload="start();">
	<div id="canvases">
	<canvas id="mainCanvas" width="1000" height="600" style="border:1px solid #000000;">
	</canvas>
	</div>
</body>

</html>