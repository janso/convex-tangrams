<!DOCTYPE html>
<html><head><meta charset="UTF-8">
<title>Calculate convex tangrams</title>
	<script src="js/vector.js"></script>
	<script src="js/matrix.js"></script>
	<script src="js/shape.js"></script>
	<script src="js/figure.js"></script>
	<script src="js/test_figure.js"></script>
	
	<script>		
	function start() {	
		// combine parallelogram and square, 2 on 0 (works)
		var f1=new Figure();
		f1.set_parallelogram();
		var f2=new Figure();
		f2.set_square();
		var f3=f1.combine(2, f2, 0); // combine parallelogram and square
		
		// add another square to the combination
		var f4=f3.combine(2, f2, 0); 
		
		console.log("f4: "+f4.asString());
		// transform piece to shape to draw it
		var s=f4.toShape(0, "#fa6666");
		// create a transformation matrix to transform the shape in a display-able format
		Matrix.get_translation(200, 200)
			.multiply_matrix(Matrix.get_scale(-32, 32))
			.multiply_matrix(Matrix.get_rotate(Math.PI+0.085))
			.transform_shape(s);
		// draw it on canvas
		var ctx=document.getElementById("mainCanvas").getContext("2d");
		s.draw(ctx);
	}
	</script>
</head>


<body onload="start();">
	<canvas id="mainCanvas" width="1000" height="600" style="border:1px solid #000000;">
	</canvas>
</body>

</html>